/**
 * @name JSON-Editor Interactive Playground
 * @description The JSON-Editor Interactive Playground is a page where you can test various setups for the JSON Schema parser JSON-Editor
 * @version {{ VERSION }}
 * @author Peter Klein
 * @see https://github.com/pmk65/jedemov2/
 * @license MIT
 * @example see README.md for requirements, examples and usage info
 */
!function(){var a={jsoneditor:{css:"https://cdn.jsdelivr.net/npm/@json-editor/json-editor@latest/dist/css/jsoneditor.min.css",js:"https://cdn.jsdelivr.net/npm/@json-editor/json-editor@latest/dist/jsoneditor.js"},theme:{bootstrap2:{css:"https://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css"},bootstrap3:{css:"https://cdn.jsdelivr.net/npm/bootstrap@3.4.0/dist/css/bootstrap.min.css",js:["https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/bootstrap@3.4.0/dist/js/bootstrap.min.js"]},bootstrap4:{css:"https://cdn.jsdelivr.net/npm/bootstrap@latest/dist/css/bootstrap.min.css"},foundation3:{css:"https://cdnjs.cloudflare.com/ajax/libs/foundation/3.2.5/stylesheets/foundation.css"},foundation4:{css:"https://cdnjs.cloudflare.com/ajax/libs/foundation/4.3.2/css/foundation.min.css"},foundation5:{css:"https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.3/css/foundation.min.css"},foundation6:{css:"https://cdn.jsdelivr.net/npm/foundation-sites@6.5.3/dist/css/foundation-float.min.css",js:["https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/foundation-sites@6.5.3/dist/js/foundation.min.js"]},jqueryui:{css:"https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/themes/south-street/jquery-ui.min.css"},materialize:{css:"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css",js:["https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js","https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"]},tailwind:{css:"https://cdn.jsdelivr.net/npm/tailwindcss@latest/dist/tailwind.min.css"},spectre:{css:["https://cdn.jsdelivr.net/npm/spectre.css@latest/dist/spectre.min.css","https://cdn.jsdelivr.net/npm/spectre.css@latest/dist/spectre-exp.min.css"]}},iconlib:{foundation2:{css:"https://cdnjs.cloudflare.com/ajax/libs/foundicons/2.0/stylesheets/general_foundicons.min.css"},foundation3:{css:"https://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.min.css"},fontawesome3:{css:"https://cdn.jsdelivr.net/npm/font-awesome@3.2.1/css/font-awesome.min.css"},fontawesome4:{css:"https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"},fontawesome5:{css:"https://use.fontawesome.com/releases/v5.6.3/css/all.css"},materialicons:{css:"https://fonts.googleapis.com/icon?family=Material+Icons"},spectre:{css:"https://cdn.jsdelivr.net/npm/spectre.css@latest/dist/spectre-icons.min.css"}},template:{ejs:{js:"https://cdn.jsdelivr.net/npm/ejs@latest/lib/ejs.min.js"},handlebars:{js:"https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.min.js"},hogan:{js:"https://cdn.jsdelivr.net/npm/hogan-updated@latest/hogan.min.js"},lodash:{js:"https://cdn.jsdelivr.net/npm/lodash@latest/lodash.min.js"},markup:{js:"https://cdn.jsdelivr.net/npm/markup-js@latest/src/markup.min.js"},mustache:{js:"https://cdn.jsdelivr.net/npm/mustache@latest/mustache.min.js"},swig:{js:"https://cdnjs.cloudflare.com/ajax/libs/swig/1.4.1/swig.min.js"},underscore:{js:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"}},ext_lib:{lib_aceeditor:{js:["https://cdn.jsdelivr.net/npm/ace-builds@latest/src-noconflict/ace.min.js","https://cdn.jsdelivr.net/npm/ace-builds@latest/src-noconflict/mode-json.js","https://cdn.jsdelivr.net/npm/ace-builds@latest/src-noconflict/mode-javascript.js"]},lib_autocomplete:{js:"https://cdn.jsdelivr.net/npm/@trevoreyre/autocomplete-js@latest/dist/autocomplete.min.js",css:"https://cdn.jsdelivr.net/npm/@trevoreyre/autocomplete-js@latest/dist/style.css"},lib_cleavejs:{js:["https://cdn.jsdelivr.net/npm/cleave.js@latest/dist/cleave.min.js","https://cdn.jsdelivr.net/npm/cleave.js@latest/dist/addons/cleave-phone.i18n.min.js"]},lib_imaskjs:{js:"https://cdn.jsdelivr.net/npm/imask@latest/dist/imask.min.js"},lib_jodit:{js:"https://cdn.jsdelivr.net/npm/jodit@latest/build/jodit.min.js",css:"https://cdn.jsdelivr.net/npm/jodit@latest/build/jodit.min.css"},lib_sceditor:{css:"https://cdn.jsdelivr.net/npm/sceditor@latest/minified/themes/default.min.css",js:["https://cdn.jsdelivr.net/npm/sceditor@latest/minified/sceditor.min.js","https://cdn.jsdelivr.net/npm/sceditor@latest/minified/formats/bbcode.js","https://cdn.jsdelivr.net/npm/sceditor@latest/minified/formats/xhtml.js"]},lib_choices:{css:"https://cdn.jsdelivr.net/npm/choices.js@latest/public/assets/styles/choices.min.css",js:"https://cdn.jsdelivr.net/npm/choices.js@latest/public/assets/scripts/choices.min.js"},lib_simplemde:{css:"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css",js:"https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"},lib_select2:{css:"https://cdn.jsdelivr.net/npm/select2@4.0.6-rc.1/dist/css/select2.min.css",js:["https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/select2@4.0.6-rc.1/dist/js/select2.min.js"]},lib_selectize:{css:["https://cdn.jsdelivr.net/npm/selectize@latest/dist/css/selectize.min.css","https://cdn.jsdelivr.net/npm/selectize@latest/dist/css/selectize.default.min.css"],js:["https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js","https://cdn.jsdelivr.net/npm/selectize@latest/dist/js/standalone/selectize.min.js"]},lib_flatpickr:{css:"https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css",js:"https://cdn.jsdelivr.net/npm/flatpickr"},lib_signaturepad:{js:"https://cdn.jsdelivr.net/npm/signature_pad@latest/dist/signature_pad.min.js"},lib_mathjs:{js:"https://cdn.jsdelivr.net/npm/mathjs@latest/dist/math.min.js"},lib_jquery:{js:"https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"},lib_dompurify:{js:"https://cdn.jsdelivr.net/npm/dompurify@latest/dist/purify.min.js"}}},b=function(a){var c,d,e;for(d=1;d<arguments.length;d++){c=arguments[d];for(e in c)c.hasOwnProperty(e)&&(c[e]&&"object"==typeof c[e]&&null!==c[e]?(a.hasOwnProperty(e)||(a[e]={}),b(a[e],c[e])):a[e]=c[e])}return a};window.mappingOverride&&"object"==typeof window.mappingOverride&&!Array.isArray(window.mappingOverride)&&b(a,window.mappingOverride);var c,d,e,f,g,h,i="ace/theme/monokai",j=window.ace.require("ace/ext/beautify"),k=window.ace.require("ace/range").Range,l=document.querySelector("#schema"),m=document.querySelector("#startval"),n=document.querySelector("#editor"),o=document.querySelector("#csseditor"),p=document.querySelector("#output"),q=document.querySelector("#validate"),r=document.querySelector(".modal"),s=r.querySelector("p"),t=r.querySelector(".close-button"),u=document.querySelector("iframe"),v=u.contentWindow||u.contentDocument.document||u.contentDocument,w=document.querySelector("#json-editor-config"),x=document.querySelector("#ext_lib"),y=document.querySelector("#example-description"),z=document.querySelector("#slideleft-panel"),A=document.querySelector("#slideright-panel"),B=document.querySelector("#show-config"),C=document.querySelector("#show-load-examples"),D=document.querySelector("#external-schema"),E=document.querySelector("#execute-code"),F=document.querySelector("#direct_link"),G=document.querySelector("#direct_link_reset"),H=document.querySelector("nav.tabs"),I=document.querySelector("#download_example"),J=document.querySelector("#upload_example"),K=document.querySelector("#files-used"),L=document.querySelector('input[type="file"]'),M=document.querySelector("#dropzone"),N=document.querySelector("#validationstatus"),O={sizes:[75,25],minSize:[200,200],onDragEnd:function(){c.resize(),d.resize(),e.resize(),f.resize(),g.resize(),h.resize()},gutter:function(){var a=document.createElement("div");return a.className="split-gutter",a.style.height="560px",a},gutterSize:4},P=[["#split-panel1","#split-panel2"],["#split-panel3","#split-panel4"],["#split-panel5","#split-panel6"]],Q=document.querySelector("#busy-overlay");Object.filter=function(a,b){var c,d={};for(c in a)a.hasOwnProperty(c)&&b(a[c])&&(d[c]=a[c]);return d};var R=function(a){try{JSON.parse(a)}catch(b){return"Invalid Schema: "+b.message.charAt(12).toUpperCase()+b.message.slice(13)}return!1},S=function(){r.classList.toggle("show-modal")},T=function(a){a.target===r&&r.classList.contains("show-modal")&&S()},U=function(){var a=this.getValue();if(a.trim()){var b=R(a);b&&(s.innerText=b,S())}},V=function(a,b){a.fireEvent?a.fireEvent("on"+b):a.dispatchEvent(new Event(b,{bubbles:!0,cancelable:!1}))},W=function(a){a.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}))},X=function(a){var b=document.createElement("textarea");b.value=a,b.setAttribute("readonly",""),b.style.position="fixed",b.style.bottom="0px",b.style.left="0px",document.body.appendChild(b),b.select();var c=!0;try{document.execCommand("copy")}catch(d){c=!1}return document.body.removeChild(b),c},Y=function(){return["// The following lines are mandatory and readonly. You can add custom code above and below.","if (jseditor instanceof window.JSONEditor) jseditor.destroy();",'jseditor = new window.JSONEditor(document.querySelector("#json-editor-form"), jedata);'].join("\n")},Z=function(a,b){return Object.filter(c.getSession().getMarkers(!0),function(c){return"readonly-highlight"==c.clazz&&c.range.intersects(a)&&!(c.range.isStart(a.end.row,a.end.column)&&"delete"!==b)&&!(c.range.isEnd(a.start.row,a.start.column)&&"backspace"!==b)})},$=function(a,b){return Object.filter(c.getSession().getMarkers(!0),function(c){return"readonly-highlight"==c.clazz&&c.range.inside(a,b)})},_=function(){return Object.filter(c.getSession().getMarkers(!0),function(a){return"readonly-highlight"==a.clazz})},aa=function(a,b,d,e){var f=new k(a-1,b,d,e),g=c.getSession();return f.collapseRows(),f.id=g.addMarker(f,"readonly-highlight","line",!0),f.start=g.doc.createAnchor(f.start),f.end=g.doc.createAnchor(f.end),f.end.$insertRight=!0,f},ba=function(){var a,b=_();for(a in b)c.getSession().removeMarker(a);var d=c.find(Y(),{caseSensitive:!0});if(d){var e=c.getSession().getLength()-1,f=c.getSession().getLine(e).length;e==d.end.row&&f==d.end.column&&c.getSession().insert({row:e+1,column:0},"\n"),aa(d.start.row+1,d.start.column,d.end.row+1,d.end.column),c.getSession().getSelection().clearSelection()}},ca=function(){var a=[],b=v.document.querySelectorAll('head script:not([src=""]), head link[rel="stylesheet"]:not([href=""])');for(var c in b)b.hasOwnProperty(c)&&a.push(b[c].src||b[c].href);var d=function(a){s.innerText=X(a)?"List copied to clipboard.":"Error: Copy to clipboard failed!"};s.innerHTML="<h5>List of external JavaScript and CSS files used in current example:</h5>"+a.sort().join("<br>")+'<br><br><div class="cbreq"><button id="cbreq-list">Copy list to Clipboard</button></div>',s.querySelector("#cbreq-list").addEventListener("click",d.bind(null,a.sort().join("\n")),{once:!0}),S()},da=function(){var a;try{a=JSON.parse(this.getValue())}catch(b){return s.innerText=b,void S()}v.updateSchemaValuesIframe(a)},ea=function(a){var b=a.querySelector(".panel-close-button"),c=a.querySelector(".panel-container"),d=function(b){(b.target!==a||a.classList.contains("panel-inactive"))&&b.currentTarget.contains(c)||(a.classList.contains("panel-active")?a.classList.toggle("panel-inactive"):a.classList.add("panel-active")),a.classList.contains("panel-inactive")&&a.classList.contains("panel-left")&&V(E,"click")};return a.addEventListener("click",d,!1),b&&b.addEventListener("click",d,!1),d},fa=function(){var a=0;return function(b,c,d){var e="_jsonp_"+a++;b+=(b.match(/\?/)?"&":"?")+"callback="+e;var f=document.createElement("script");f.src=b,window[e]=function(a){c.call(d||window,a),document.querySelector("head").removeChild(f),f=null,delete window[e]},document.querySelector("head").appendChild(f)}}(),ga=function(a){if(a.target&&"BUTTON"==a.target.nodeName){for(var b=this.querySelectorAll("button"),i=0;i<b.length;i++)b[i].classList.remove("active"),document.querySelector(b[i].dataset.content).classList.remove("active");a.target.classList.add("active"),document.querySelector(a.target.dataset.content).classList.add("active"),e.resize(),f.resize(),c.resize(),d.resize(),g.resize(),h.resize()}};window.iframeErrorCatcher=function(a){s.innerText=a,S()},window.iframeOutputCatcher=function(a,b,c){var d=document.querySelector('button[data-content="#content5"]');if(d.style.display=1===c?"none":"initial",1!==c){g.setValue(JSON.stringify(a,null,2)),g.session.getSelection().clearSelection(),g.resize();var e=b.length?b:{schema:"valid"};N.classList.remove("schema-invalid"),b.length&&N.classList.add("schema-invalid"),h.setValue(JSON.stringify(e,null,2)),h.session.getSelection().clearSelection(),h.resize()}};var ha=function(){h.setValue(""),h.session.getSelection().clearSelection(),h.resize(),g.setValue(""),g.session.getSelection().clearSelection(),g.resize()},ia=function(a){var b=window.location.search.substr(1),c={};if(null!=b&&""!==b)for(var d=b.split("&"),e=0;e<d.length;e++){var f=d[e].split("=");if("undefined"!=typeof a&&a==f[0]){c=f[1];break}c[f[0]]=f[1]}return c},ja=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},ka=function(){var a={},b=":not([data-json-editor-special])",c=w.querySelectorAll('input[type="checkbox"]'+b+",select"+b);return Array.from(c).forEach(function(b){"SELECT"==b.tagName?a[b.id]=b.value:a[b.value]=b.checked?1:0}),a},la=function(a){var b=window.location.toString().replace(window.location.search,"");if(a.target==F){b+="?schema="+encodeURIComponent(window.LZString.compressToBase64(JSON.stringify(e.getValue().trim()))),b+="&value="+encodeURIComponent(window.LZString.compressToBase64(JSON.stringify(f.getValue().trim()))),b+="&code="+encodeURIComponent(window.LZString.compressToBase64(JSON.stringify(c.getValue().trim()))),b+="&style="+encodeURIComponent(window.LZString.compressToBase64(JSON.stringify(d.getValue().trim()))),b+="&"+ja(ka());var g=function(a){s.innerText=X(a)?"URL copied to clipboard.":"Error: Copy to clipboard failed!"};if("file:"!==window.location.protocol){var h=encodeURIComponent(b);h.length<5e3?(fa("https://is.gd/create.php?format=json&url="+h,function(a){s.innerHTML='<div class="cbreq"><h3>Direct Link Generated</h3><button id="cbreq-url">Copy Url to Clipboard</button> <button id="cbreq-shorturl">Copy ShortUrl to Clipboard</button></div>',s.querySelector("#cbreq-url").addEventListener("click",g.bind(null,b),{once:!0}),s.querySelector("#cbreq-shorturl").addEventListener("click",g.bind(null,a.shorturl),{once:!0}),S()}),window.history&&window.history.replaceState("",window.title,b)):(g(b),S())}else g(b),S()}else window.location.replace(b)},ma=function(a){confirm("Clear URL query parameters?")&&(window.localStorage&&window.localStorage.setItem("jeplayground",""),la(a),c.setValue("\n"+Y()+"\n"))},na=function(a){var b=JSON.parse(a),i=JSON.stringify(b.schema,null,2),j=0!==Object.keys(b.startval).length?JSON.stringify(b.startval,null,2):"",k=b.config,l=b.code,m=b.style,n=b.desc;Array.from(x.querySelectorAll("input")).forEach(function(a){a.checked=!1}),y.innerHTML="",ha(),""!==n&&"Add optional description here. (HTML format)"!=n&&(s.innerHTML=y.innerHTML='<h3>Info about "'+b.title+'" Example</h3>'+n,S()),e.setValue(i),e.session.getSelection().clearSelection(),e.resize(),f.setValue(j),f.session.getSelection().clearSelection(),f.resize(),c.setValue(l),c.session.getSelection().clearSelection(),c.resize(),ba(),d.setValue(m),d.session.getSelection().clearSelection(),d.resize(),g.resize(),h.resize();for(var o in k)if(k.hasOwnProperty(o)){var p=w.querySelector("#"+o);p&&("INPUT"==p.nodeName&&"checkbox"==p.type?p.checked=k[o]||0:"SELECT"==p.nodeName&&(p.value=k[o]))}V(E,"click")},oa=function(){var a=ia();if(ha(),a.code){try{c.setValue(JSON.parse(window.LZString.decompressFromBase64(decodeURIComponent(a.code)))),c.session.getSelection().clearSelection(),ba()}catch(b){console.log("Error parsing Javascript data from URL parameter.",b)}delete a.code}if(a.style){try{d.setValue(JSON.parse(window.LZString.decompressFromBase64(decodeURIComponent(a.style)))),d.session.getSelection().clearSelection()}catch(b){console.log("Error parsing CSS data from URL parameter.",b)}delete a.style}if(a.schema){try{e.setValue(JSON.parse(window.LZString.decompressFromBase64(decodeURIComponent(a.schema)))),e.session.getSelection().clearSelection()}catch(b){console.log("Error parsing Schema data from URL parameter.",b)}delete a.schema}if(a.value){try{f.setValue(JSON.parse(window.LZString.decompressFromBase64(decodeURIComponent(a.value)))),f.session.getSelection().clearSelection()}catch(b){console.log("Error parsing Startval data from URL parameter.",b)}delete a.value}e.resize(),f.resize(),c.resize(),d.resize(),g.resize(),h.resize();for(var i in a)if(a.hasOwnProperty(i)){var j=document.querySelector("#"+i);j&&("SELECT"==j.tagName?j.value=a[i]:"INPUT"==j.tagName&&(j.checked="1"==a[i]))}},pa=function(a,b){var c="schema:"+a+(b.trim()?", startval:"+b:"");return"var jseditor, jedata = {"+c+"};"},qa=function(){M.style.display="block"},ra=function(){M.style.display="none"},sa=function(a){a.preventDefault(),ra();var b=a.dataTransfer.files[0];if("application/json"!=b.type||0===b.size)return s.innerText="Error: File uploaded is not a .JSON file",void S();var c=new FileReader;c.onload=function(a){var b=a.target.result,c=R(b);return c?(s.innerText=c,void S()):"code,config,desc,schema,startval,style,title"!==Object.getOwnPropertyNames(JSON.parse(b)).sort().join(",")?(s.innerText="JSON file is not in the correct format",void S()):void na(b)},c.readAsText(b)},ta=function(a){switch((this==window?"w_":"z_")+a.type){case"w_dragstart":this.disabled=!0;break;case"w_dragend":this.disabled=!1;break;case"w_dragenter":this.disabled!==!0&&qa();break;case"z_dragenter":case"z_dragover":a.dataTransfer.dropEffect="copy";break;case"z_dragleave":ra();break;case"z_drop":sa(a)}this.disabled!==!0&&a.preventDefault()},ua=function(a){var b={};return a.filter(function(a){return!b.hasOwnProperty(a)&&(b[a]=!0)})},va=function(a,b){for(var c=b.exec(a),d=[];null!=c;)c[2].trim()&&d.push(c[2]),c=b.exec(a);return d},wa=function(b,c){var e,f=[],g=[],h="",i=d.getValue().trim();for(var j in b)b.hasOwnProperty(j)&&b[j]&&(a.ext_lib[j]||a[j]&&a[j][b[j]])&&(e=a.ext_lib[j]||a[j][b[j]],e.js&&(f=f.concat("string"==typeof e.js?[e.js]:e.js)),e.css&&(g=g.concat("string"==typeof e.css?[e.css]:e.css)));return g=g.concat(va(c,/\s*\/\/\s*includeCSS\((['"])([^"']*)\1\)/g)),f=f.concat(va(c,/\s*\/\/\s*includeJS\((['"])([^"']*)\1\)/g)),g=ua(g),f=ua(f),g.length&&(h+='<link rel="stylesheet" href="'+g.join('" /><link rel="stylesheet" href="')+'" />'),f.length&&(h+='<script src="'+f.join('"></script><script src="')+'"></script>'),""!==i&&(h+="<style>"+i+"</style>"),h},xa=function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)&&!/^lib_/.test(c)){var d="string"==typeof a[c]?'"'+a[c]+'"':a[c];b+='JSONEditor.defaults.options["'+c+'"] = '+d+";\n"}return"<script>"+b+"</script>"},ya=function(b){var c=ka();return["<!DOCTYPE HTML>",'<html lang="en">',"<head>","<title>JSON-Editor Form</title>",'<meta http-equiv="content-type" content="text/html; charset=utf-8">',"<style>","body {margin:0;padding:0;font: normal .9em/1.2 Arial;background-color:#02577a !important;}",".inner-row {display: grid;background-color: #fff;position: relative;max-width: 1200px;left:50%;transform: translate(-50%,0);padding: 1rem 2rem;box-shadow: 2px 0 5px rgba(0,0,0,.2);margin:0 0 3rem 0;}","</style>",'<link rel="stylesheet" href="'+a.jsoneditor.css+'" />','<script src="'+a.jsoneditor.js+'"></script>',wa(c,b),xa(c),"</head>","<body>",'<div class="inner-row"><div id="json-editor-form"></div></div>',"<script>","window.updateSchemaValuesIframe = function(json) {","if (jseditor instanceof window.JSONEditor && !jseditor.destroyed) jseditor.setValue(json);","};","try{",b,"var updateOutput = function() {window.top.iframeOutputCatcher(jseditor.getValue(), jseditor.validate()); };","if (jseditor instanceof window.JSONEditor && !jseditor.destroyed) {",'jseditor.on("change",updateOutput);',"} else {","window.top.iframeOutputCatcher(null, null, 1);","}","}","catch(err){","if (window.top.iframeErrorCatcher) window.top.iframeErrorCatcher(err);else console.log(err);","};","</script>","</body>","</html>"].join("\n")},za=function(a){var b;try{b=JSON.parse(a)}catch(c){b={}}return b},Aa=function(a){a.preventDefault();var b=a.target.files||a.dataTransfer.files;if(0!==b.length){var c=b[0],d=new FileReader;d.onload=function(a){var b=a.target.result,c=R(b);return c?(s.innerText=c,void S()):"code,config,desc,schema,startval,style,title"!==Object.getOwnPropertyNames(JSON.parse(b)).sort().join(",")?(s.innerText="JSON file is not in the correct format",void S()):void na(b)},d.readAsText(c)}},Ba=function(){if(window.localStorage){var a=window.localStorage.getItem("jeplayground");a&&na(a)}},Ca=function(){window.localStorage&&window.localStorage.setItem("jeplayground",JSON.stringify({schema:za(e.getValue()),startval:za(f.getValue()),config:ka(),code:c.getValue().trim(),style:d.getValue().trim(),desc:""},null,2))},Da=function(){var a=prompt("Enter a Title for the example","JSON-Editor Example");if(null!==a){var b={title:a,schema:za(e.getValue()),startval:za(f.getValue()),config:ka(),code:c.getValue().trim(),style:d.getValue().trim(),desc:"Add optional description here. (HTML format)"},g=(b.title||"example").toLowerCase().replace(/[\s<>:"\\|*]/g,"-")+".json",h=new Blob([JSON.stringify(b,null,2)],{type:"application/json;charset=utf-8"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(h,g);else{var i=document.createElement("a");i.download=g,i.href=URL.createObjectURL(h),i.dataset.downloadurl=["text/plain",i.download,i.href].join(":"),W(i)}}},Ea=function(a,b,c){if(window.fetch&&window.File&&window.FileReader&&window.FileList&&window.Blob)fetch(a,{mode:"no-cors"}).then(function(a){return a.blob()}).then(function(a){var b=new FileReader;b.onload=function(a){c(a.target.result)},b.readAsText(a)})["catch"](function(){c("")});else{var d=new XMLHttpRequest;d.overrideMimeType(b),d.open("GET",a,!0),d.onreadystatechange=function(){4==d.readyState&&c("200"==d.status?d.responseText:"")},d.send(null)}},Fa=function(a){"BUTTON"==a.target.nodeName&&a.target.value&&(W(A),Ea("examples/"+a.target.value+".json","application/json",na))},Ga=function(){var a="<h2>JSON-Editor Example</h2>",b=function(a,b){return(a.title>b.title)-(a.title<b.title)};Ea("examples/index.json","application/json",function(c){R(c)?(C.disabled=!0,C.style.cursor="not-allowed",C.title="No examples available due to invalid index file"):(JSON.parse(c).forEach(function(c){a+="<details open><summary>"+c.group+"</summary>",c.items.sort(b).forEach(function(b){a+='<button value="'+b.file+'">'+b.title+"</button>"}),a+="</details>"}),D.innerHTML=a)})},Ha=function(a){if(a.target.dataset.action)switch(a.preventDefault(),a.target.dataset.action.toLowerCase()){case"search":this.execCommand("find");break;case"replace":this.execCommand("replace");break;case"beautify":j.beautify(this.session),"editor6"===this.id&&ba();break;case"wordwrap":this.setOption("wrap","off"==this.getOption("wrap"));break;case"clear":"editor6"===this.id?(this.setValue("\n"+Y()+"\n"),ba()):this.setValue(""),this.session.getSelection().clearSelection()}},Ia=function(a,b){var c=a.parentNode.querySelectorAll(".slidedown-menu button");[].forEach.call(c,function(a){a.addEventListener("click",Ha.bind(b))})},Ja=function(a,b){return"loading"===a.readyState?a.addEventListener("DOMContentLoaded",b):b()},Ka=function(){Q.classList.remove("active"),V(document.querySelector("nav.tabs button:nth-of-type(1)"),"click")},La=function(a){a.preventDefault(),window.requestAnimationFrame(function(){Q.classList.add("active"),Ja(v,Ka)});var b=f.getValue(),d=pa(e.getValue(),b)+c.getValue(),g=document.createElement("iframe"),h=u.parentNode,i=u.nextSibling;g.className=u.className,g.id=u.id,h.removeChild(u),h.insertBefore(g,i),u=g,v=u.contentWindow||u.contentDocument.document||u.contentDocument,v.document.open(),v.document.write(ya(d)),v.document.close(),Ca()},Ma=function(a,c){var d={name:"replace",bindKey:{win:"Ctrl-R",mac:"Command-Option-F"},exec:function(a){window.ace.config.loadModule("ace/ext/searchbox",function(b){b.Search(a,!0)})},readOnly:!0},e=window.ace.edit(a);return e.setOptions({theme:i}),e.session.setOptions(b({},{tabSize:2,useSoftTabs:!0},c)),e.renderer.setOptions({minLines:40,maxLines:40}),e.commands.addCommand(d),e};t.addEventListener("click",S),window.addEventListener("click",T),e=Ma(l,{mode:"ace/mode/json"}),f=Ma(m,{mode:"ace/mode/json"}),g=Ma(p,{mode:"ace/mode/json"}),h=Ma(q,{mode:"ace/mode/json"}),d=Ma(o,{mode:"ace/mode/css",wrap:!0,useWrapMode:!0,indentedSoftWrap:!0}),c=Ma(n,{mode:"ace/mode/javascript",wrap:!0,useWrapMode:!0,indentedSoftWrap:!0}),c.on("change",c.$onChangeFrontMarker),c.keyBinding.addKeyboardHandler({handleKeyboard:function(a,b,d,e,f){if(b===-1||e===-1||67===e&&1===b||e<=40&&e>=37)return!1;var g=c.getSelectionRange(),h=Object.keys(Z(g,d)).length>0;return"return"==d&&h&&c.selection.moveTo(g.end.row+1,0),!!h&&{command:"null",passEvent:!1}}}),c.on("cut",function(a){Object.keys(Z(a)).length&&a.setEnd(a.start.row,a.start.column)},!1),c.on("paste",function(a){Object.keys(Z(c.getSelectionRange())).length&&(a.text="")},!1),c.$tryReplace=function(a){return function(b){return Object.keys(Z(b)).length?null:a.apply(this,arguments)}}(c.$tryReplace);var Na=c.getSession();Na.moveText=function(a){return function(b,c){var d=Object.keys($(c.row,c.column)).length>0;return d||(d=Object.keys(Z(b)).length>0),d?b:a.apply(this,arguments)}}(Na.moveText),ba(),e.on("blur",U.bind(e)),f.on("blur",U.bind(f)),g.on("blur",da.bind(g)),Ia(l,e),Ia(m,f),Ia(n,c),Ia(o,d),Ia(p,g),Ia(q,h),H.addEventListener("click",ga,!1);var Oa=ea(z);B.addEventListener("click",Oa,!1);var Pa=ea(A);C.addEventListener("click",Pa,!1),window.fetch&&window.File&&window.FileReader&&window.FileList&&window.Blob?D.addEventListener("click",Fa,!1):(C.disabled=!0,C.style.cursor="not-allowed",C.title="Not available locally due to CORS policy"),E.addEventListener("click",La,!1),K.addEventListener("click",ca,!1),F.addEventListener("click",la,!1),G.addEventListener("click",ma,!1),I.addEventListener("click",Da,!1),J.addEventListener("click",W.bind(null,L),!1),L.addEventListener("change",Aa,!1),window.File&&window.FileReader&&window.FileList&&window.Blob&&(["dragenter","dragstart","dragend"].forEach(function(a){window.addEventListener(a,ta,!1)}),["dragenter","dragover","dragleave","drop"].forEach(function(a){M.addEventListener(a,ta,!1)})),window.Split(P[0],O),window.Split(P[1],O),window.Split(P[2],O),Ga(),window.location.search?(oa(),V(E,"click")):Ba()}();
//# sourceMappingURL=jsoneditor_demo.min.js.map